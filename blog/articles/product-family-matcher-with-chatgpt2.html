<!DOCTYPE html>
<html lang="en">
<head>
    <title>W3.CSS Template</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.css">
    <style>
        html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif;}
        .w3-sidebar {
          z-index: 3;
          width: 250px;
          top: 43px;
          bottom: 0;
          height: inherit;
        }
         .question, .answer {
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
        }

        .question {
            background-color: #e3f2fd;
            border-left: 5px solid #2196F3;
        }

        .answer {
            background-color: #f5f5f5;
            border-left: 5px solid #9E9E9E;
        }

        pre {
            background: #272822;
            color: #f8f8f2;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: "Courier New", monospace;
        }

        code {
            color: #f92672;
        }
    </style>
</head>
<body>

<!-- Navbar -->
<div class="w3-top">
    <div class="w3-bar w3-theme w3-top w3-left-align w3-large">
        <a class="w3-bar-item w3-button w3-right w3-hide-large w3-hover-white w3-large w3-theme-l1"
           href="javascript:void(0)" onclick="w3_open()"><i class="fa fa-bars"></i></a>
        <a href="../../index.html" class="w3-bar-item w3-button w3-theme-l1">Manos.</a>
        <!-- <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Tech</a>
        <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Values</a>
        <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">YT Channels</a>
        <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Movies</a>
        <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hide-medium w3-hover-white">Clients</a>
        <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hide-medium w3-hover-white">About</a> -->
    </div>
</div>

<!-- Sidebar -->
<nav class="w3-sidebar w3-bar-block w3-collapse w3-large w3-theme-l5 w3-animate-left" id="mySidebar">
    <a href="javascript:void(0)" onclick="w3_close()"
       class="w3-right w3-xlarge w3-padding-large w3-hover-black w3-hide-large" title="Close Menu">
        <i class="fa fa-remove"></i>
    </a>
    <h4 class="w3-bar-item"><b>Menu</b></h4>
    <a class="w3-bar-item w3-button w3-hover-black w3-button-selected" href="../articles.html">Articles</a>


    <a class="w3-bar-item w3-button w3-hover-black" href="../tech.html">Tech</a>
    <a class="w3-bar-item w3-button w3-hover-black" href="../about.html">About</a>
</nav>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu"
     id="myOverlay"></div>

<!-- Main content: shift it to the right by 250 pixels when the sidebar is visible -->
<div class="w3-main" style="margin-left:250px; padding-top: 32px!important;">

    <div class="w3-row  w3-padding-24">
        <div class="w3-container">
            <h1 class="w3-text-teal">2025</h1>
            <!-- <img src="kubernetes-icon" alt="" width="50px" height="50px"> -->

          <p>TLRD: summary here</p>
            <p>I asked ChatGPT the following:</p>
            <div class="question">
                <p>I have a list of product family codes for example:</p>
                <pre>
family_1, 3
family_2, 30
family_3, 301
family_4, 3010
family_5, 4010

I need to find the algorithm in Java, to provide a product code in a method and give me back which family this product belongs.
The product code looks like 301020. The first X number of digits shows the product family code.
So in this example, the returned family should be family_4.
Another example is that product code 3015010 should return family_3 as the matching digits are 301.
Please help me with the code.</pre>
            </div>

            <p>The answer was:</p>
            <div class="answer">
        <pre><code>
import java.util.HashMap;
import java.util.Map;

public class ProductFamilyMatcher {
    static class TrieNode {
        Map<Character, TrieNode> children = new HashMap<>();
        String familyName = null;
    }

    private static final TrieNode root = new TrieNode();

    private static void insertFamilyCode(String familyCode, String familyName) {
        TrieNode currentNode = root;
        for (char c : familyCode.toCharArray()) {
            currentNode = currentNode.children.computeIfAbsent(c, k -> new TrieNode());
        }
        currentNode.familyName = familyName;
    }

    public static String findProductFamily(String productCode) {
        TrieNode currentNode = root;
        for (char c : productCode.toCharArray()) {
            currentNode = currentNode.children.get(c);
            if (currentNode == null) {
                return "No matching family found";
            }
        }
        return currentNode.familyName != null ? currentNode.familyName : "No matching family found";
    }

    public static void main(String[] args) {
        insertFamilyCode("1", "family_1");
        insertFamilyCode("3", "family_2");
        insertFamilyCode("301", "family_3");
        insertFamilyCode("3010", "family_4");
        insertFamilyCode("4010", "family_5");

        System.out.println(findProductFamily("301020"));  // Expected output: family_4
        System.out.println(findProductFamily("3015010")); // Expected output: family_3
        System.out.println(findProductFamily("401234"));  // Expected output: family_5
        System.out.println(findProductFamily("12345"));   // Expected output: family_1
    }
}
        </code></pre>
            </div>

            <p>Then I asked:</p>
            <div class="question">
                <p>What is the Big-O complexity in this case?</p>
            </div>

            <div class="answer">
                <p>The time complexity of this algorithm can be analyzed based on the operations in the <code>findProductFamily</code> method.</p>
                <pre>
Total Time Complexity: O(N×M)
- N is the number of family codes in the map.
- M is the length of the product code.

Space Complexity: O(N)
- We are storing N family codes in the map.</pre>
            </div>

            <p>Then I asked:</p>
            <div class="question">
                <p>Could we use a tree to improve performance?</p>
            </div>

            <p>The answer was:</p>
            <div class="answer">
                <p>Yes! You're on the right track. Using a prefix tree (Trie) can significantly improve performance by reducing the number of comparisons.</p>
                <pre>
Time Complexity for querying: O(M), where M is the length of the product code.
This is a significant improvement over O(N×M).</pre>
            </div>


            <div class="answer">
        <pre><code>
import java.util.HashMap;
import java.util.Map;

public class ProductFamilyMatcher {

  // Trie Node class
  static class TrieNode {
    Map<Character, TrieNode> children = new HashMap<>();
    String familyName = null;  // This will store the family name at the leaf node
  }

  // Root of the Trie
  private static final TrieNode root = new TrieNode();

  // Method to insert family codes into the Trie
  private static void insertFamilyCode(String familyCode, String familyName) {
    TrieNode currentNode = root;

    // Traverse each character in the family code
    for (char c : familyCode.toCharArray()) {
      currentNode = currentNode.children.computeIfAbsent(c, k -> new TrieNode());
    }

    // Set the family name at the leaf node
    currentNode.familyName = familyName;
  }

  // Method to find the family for a given product code
  public static String findProductFamily(String productCode) {
    TrieNode currentNode = root;

    // Traverse the Trie based on the product code
    for (char c : productCode.toCharArray()) {
      currentNode = currentNode.children.get(c);
      if (currentNode == null) {
        return "No matching family found";  // If no matching family code prefix
      }
    }

    // Return the family name at the last matched node
    return currentNode.familyName != null ? currentNode.familyName : "No matching family found";
  }

  public static void main(String[] args) {
    // Insert family codes into the Trie
    insertFamilyCode("1", "family_1");
    insertFamilyCode("3", "family_2");
    insertFamilyCode("301", "family_3");
    insertFamilyCode("3010", "family_4");
    insertFamilyCode("4010", "family_5");

    // Test cases
    System.out.println(findProductFamily("301020"));  // Expected output: family_4
    System.out.println(findProductFamily("3015010")); // Expected output: family_3
    System.out.println(findProductFamily("401234"));  // Expected output: family_5
    System.out.println(findProductFamily("12345"));   // Expected output: family_1
  }
}
        </code></pre>
            </div>
            <a href="https://github.com/emanonk/algorithms-datastructures-examples/blob/main/src/main/java/interview/ProductFamilyMatcher.java">find the fixed code here</a>

            <p>Final Thoughts:</p>
            <p>
                ChatGPT is an intelligent tool, but it reduces your ability to think and organize your thoughts.
                I got a solution ready, but I had to validate and debug it myself to make it work.

            </p>

        </div>
    </div>




    <div class="w3-row  w3-padding-24">
        <div class="w3-container">
            <p>posted 19.02.2025</p>
        </div>
    </div>


    <!-- Pagination -->
    <!-- <div class="w3-center w3-padding-32">
      <div class="w3-bar">
        <a class="w3-button w3-black" href="#">1</a>
        <a class="w3-button w3-hover-black" href="#">2</a>
        <a class="w3-button w3-hover-black" href="#">3</a>
        <a class="w3-button w3-hover-black" href="#">4</a>
        <a class="w3-button w3-hover-black" href="#">5</a>
        <a class="w3-button w3-hover-black" href="#">»</a>
      </div>
    </div> -->

    <footer id="myFooter">
        <!-- <div class="w3-container w3-theme-l2 w3-padding-32">
          <h4>Footer</h4>
        </div> -->

        <div class="w3-container w3-theme-l1" style="text-align: center;">
            <!-- <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p> -->
            <p>©2023 Manos Kammas</p>
            <a href="https://www.linkedin.com/in/manoskammas/"><i class="fab fa-linkedin"
                                                                  style="font-size:36px"></i></a>
            <a href="https://twitter.com/ManosKammas"><i class="fab fa-twitter" style="font-size:36px"></i></a>
            <a href="https://fosstodon.org/@manoskammas"><i class="fa-brands fa-mastodon"
                                                            style="font-size:36px"></i></a>
            <a href="https://github.com/emanonk"><i class="fab fa-github" style="font-size:36px"></i></a>
        </div>
    </footer>

    <!-- END MAIN -->
</div>

<script>
    // Get the Sidebar
    var mySidebar = document.getElementById("mySidebar");

    // Get the DIV with overlay effect
    var overlayBg = document.getElementById("myOverlay");

    // Toggle between showing and hiding the sidebar, and add overlay effect
    function w3_open() {
      if (mySidebar.style.display === 'block') {
        mySidebar.style.display = 'none';
        overlayBg.style.display = "none";
      } else {
        mySidebar.style.display = 'block';
        overlayBg.style.display = "block";
      }
    }

    // Close the sidebar with the close button
    function w3_close() {
      mySidebar.style.display = "none";
      overlayBg.style.display = "none";
    }
</script>

</body>
</html>
